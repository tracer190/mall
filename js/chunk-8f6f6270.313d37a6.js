(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8f6f6270"],{2853:function(t,e,a){},4166:function(t,e,a){"use strict";var o=a("a225"),r=a.n(o);r.a},"7b92":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"good-item"},[a("el-col",[a("el-card",{attrs:{"body-style":{padding:0}}},[a("div",{staticClass:"good-img"},[a("a",[a("img",{attrs:{src:t.goods.productImageBig,alt:""}})])]),a("h6",{staticClass:"good-title"},[t._v(t._s(t.goods.productName))]),a("h3",{staticClass:"sub-title ellipsis"},[t._v(t._s(t.goods.subTitle))]),a("div",{staticClass:"good-price pr"},[a("div",{staticClass:"ds pa"},[a("a",{attrs:{href:"javascript:;"}},[a("el-button",{attrs:{type:"default",size:"medium"},on:{click:function(e){return t.productDetail(t.goods.productId)}}},[t._v("查看详情")])],1),a("a",{attrs:{href:"javascript:;"}},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.addCart(t.goods.productId,t.goods.salePrice,t.goods.productName,t.goods.productImageBig)}}},[t._v("加入购物车")])],1)]),a("p",[a("span",{staticStyle:{"font-size":"14px"}},[t._v("¥")]),t._v(" "+t._s(Number(t.goods.salePrice).toFixed(2))+" ")])])])],1)],1)},r=[],i=a("5530"),s=a("2f62"),n=a("5d2d"),c={props:["goods"],computed:Object(i["a"])({},Object(s["c"])(["login"])),methods:Object(i["a"])(Object(i["a"])({},Object(s["b"])(["ADDCART"])),{},{productDetail:function(t){this.$router.push({name:"goodsDetail",query:{productId:t}})},addCart:function(t,e,a,o){this.login?(this.$http.post("/api/addCart",{userId:Object(n["a"])("id"),productId:t,productNum:1}),this.ADDCART({productId:t,salePrice:e,productName:a,productImageBig:o})):this.ADDCART({productId:t,salePrice:e,productName:a,productImageBig:o})}})},d=c,l=(a("9079"),a("2877")),u=Object(l["a"])(d,o,r,!1,null,"26ffe7c9",null);e["a"]=u.exports},9079:function(t,e,a){"use strict";var o=a("2853"),r=a.n(o);r.a},"99af":function(t,e,a){"use strict";var o=a("23e7"),r=a("d039"),i=a("e8b5"),s=a("861d"),n=a("7b0b"),c=a("50c4"),d=a("8418"),l=a("65f0"),u=a("1dde"),p=a("b622"),g=a("2d00"),m=p("isConcatSpreadable"),f=9007199254740991,h="Maximum allowed index exceeded",v=g>=51||!r((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),b=u("concat"),x=function(t){if(!s(t))return!1;var e=t[m];return void 0!==e?!!e:i(t)},C=!v||!b;o({target:"Array",proto:!0,forced:C},{concat:function(t){var e,a,o,r,i,s=n(this),u=l(s,0),p=0;for(e=-1,o=arguments.length;e<o;e++)if(i=-1===e?s:arguments[e],x(i)){if(r=c(i.length),p+r>f)throw TypeError(h);for(a=0;a<r;a++,p++)a in i&&d(u,p,i[a])}else{if(p>=f)throw TypeError(h);d(u,p++,i)}return u.length=p,u}})},a225:function(t,e,a){},de6d:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods"},[a("div",{staticClass:"nav"},[a("div",{staticClass:"w"},[t._l(t.navList,(function(e,o){return a("a",{key:o,class:{active:o===t.isIndex},attrs:{href:"javascript:;"},on:{click:function(e){return t.handleSort(o)}}},[t._v(t._s(e.title))])})),a("div",{staticClass:"price-interval"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.min,expression:"min"}],staticClass:"input",attrs:{type:"number",placeholder:"价格"},domProps:{value:t.min},on:{input:function(e){e.target.composing||(t.min=e.target.value)}}}),a("span",{staticStyle:{margin:"0 5px"}},[t._v("-")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.max,expression:"max"}],attrs:{type:"number",placeholder:"价格"},domProps:{value:t.max},on:{input:function(e){e.target.composing||(t.max=e.target.value)}}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:t.reset}},[t._v("确定")])],1)],2)]),a("div",[a("div",{staticClass:"goods-box w"},t._l(t.allGoods,(function(t){return a("mall-goods",{key:t.id,attrs:{goods:t}})})),1),a("div",{staticClass:"w"},[a("el-pagination",{staticStyle:{float:"right"},attrs:{"current-page":t.currentPage,"page-sizes":[8,20,40,80],"page-size":t.pageSize,layout:"total,sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)])])},r=[],i=(a("99af"),a("96cf"),a("1da1")),s=a("7b92"),n={components:{MallGoods:s["a"]},data:function(){return{max:"",min:"",navList:[{title:"综合排序"},{title:"价格由低到高"},{title:"价格由高到低"}],isIndex:0,currentPage:1,pageSize:20,sort:"",total:0,allGoods:[]}},watch:{$route:"getAllGoods"},created:function(){this.getAllGoods()},methods:{handleSizeChange:function(t){this.pageSize=t,this.getAllGoods()},handleCurrentChange:function(t){this.currentPage=t,this.getAllGoods()},getAllGoods:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.query.cid?"/api/goods/allGoods?page=".concat(t.currentPage,"&size=").concat(t.pageSize,"&sort=").concat(t.sort,"&priceGt=").concat(t.min,"&priceLte=").concat(t.max,"&cid=").concat(t.$route.query.cid):"/api/goods/allGoods?page=".concat(t.currentPage,"&size=").concat(t.pageSize,"&sort=").concat(t.sort,"&priceGt=").concat(t.min,"&priceLte=").concat(t.max),e.prev=1,e.next=4,t.$http.get(a);case 4:o=e.sent,t.allGoods=o.data.data,t.total=o.data.total,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},priceSort:function(t){this.sort=t,this.getAllGoods()},reset:function(){this.currentPage=1,this.sort="",this.getAllGoods()},handleSort:function(t){switch(this.isIndex=t,t){case 0:this.reset();break;case 1:this.priceSort(1);break;case 2:this.priceSort(-1);break;default:break}}}},c=n,d=(a("4166"),a("2877")),l=Object(d["a"])(c,o,r,!1,null,"b4ba94ba",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-8f6f6270.313d37a6.js.map