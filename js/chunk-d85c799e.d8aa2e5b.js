(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d85c799e"],{"13d5":function(t,a,s){"use strict";var e=s("23e7"),r=s("d58f").left,i=s("a640"),n=s("ae40"),c=i("reduce"),o=n("reduce",{1:0});e({target:"Array",proto:!0,forced:!c||!o},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"1f10":function(t,a,s){"use strict";var e=s("ef45"),r=s.n(e);r.a},"6e6e":function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"header-box"},[s("div",[s("header",{staticClass:"w"},[s("div",{staticClass:"w-box"},[s("div",{staticClass:"nav-logo"},[s("h1",[s("router-link",{attrs:{to:"/",title:"商城官网"}},[t._v("Xmall商城")])],1)]),s("div",{staticClass:"right-box"},[s("div",{staticClass:"nav-list"},[s("el-input",{attrs:{placeholder:"请输入商品信息","suffix-icon":"el-icon-search",minlength:"1",maxlength:"100"},model:{value:t.productInfo,callback:function(a){t.productInfo=a},expression:"productInfo"}}),s("router-link",{attrs:{to:"/goods"}},[t._v("全部商品")]),s("router-link",{attrs:{to:"/thanks"}},[t._v("捐赠")])],1),s("div",{staticClass:"nav-aside"},[s("div",{staticClass:"user pr"},[s("router-link",{attrs:{to:"/user"}},[t._v("个人中心")]),t.login?s("div",{staticClass:"nav-user-wrapper pa"},[s("div",{staticClass:"nav-user-list"},[s("ul",[s("li",{staticClass:"nav-user-avatar"},[s("div",[s("span",{staticClass:"avatar",style:{backgroundImage:"url("+t.userInfo.file+")"}})]),s("p",{staticClass:"name"},[t._v(t._s(t.userInfo.username))])]),s("li",[s("router-link",{attrs:{to:"/user/orderList"}},[t._v("我的订单")])],1),s("li",[s("router-link",{attrs:{to:"/user/information"}},[t._v("账号资料")])],1),s("li",[s("router-link",{attrs:{to:"/user/addressList"}},[t._v("收货地址")])],1),s("li",[s("router-link",{attrs:{to:"/user/support"}},[t._v("售后服务")])],1),s("li",[s("router-link",{attrs:{to:"/user/coupon"}},[t._v("我的优惠")])],1),s("li",[s("a",{attrs:{href:"javascript:;"},on:{click:t.logout}},[t._v("退出")])])])])]):t._e()],1),s("div",{staticClass:"shop pr",on:{mouseenter:function(a){return t.cartShowState(!0)},mouseleave:function(a){return t.cartShowState(!1)}}},[s("router-link",{attrs:{to:"/cart"}}),s("span",{staticClass:"cart-num"},[s("i",{staticClass:"num",class:{no:0==t.totalNum}},[t._v(t._s(t.totalNum))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showCart,expression:"showCart"}],staticClass:"nav-user-wrapper pa active"},[s("div",{staticClass:"nav-user-list"},[s("div",{staticClass:"full"},[s("div",{staticClass:"nav-cart-items"},[s("ul",t._l(t.cartList,(function(a,e){return s("li",{key:e,staticClass:"clearfix"},[s("div",{staticClass:"cart-item"},[s("div",{staticClass:"cart-item-inner"},[s("a",[s("div",{staticClass:"item-thumb"},[s("img",{attrs:{src:a.productImageBig}})]),s("div",{staticClass:"item-desc"},[s("div",{staticClass:"cart-cell"},[s("h4",[s("a",{attrs:{href:""}},[t._v(t._s(a.productName))])]),s("h6",[s("span",{staticClass:"price-icon"},[t._v("¥")]),s("span",{staticClass:"price-num"},[t._v(t._s(a.salePrice))]),s("span",{staticClass:"item-num"},[t._v("x "+t._s(a.productNum))])])])])]),s("div",{staticClass:"del-btn del"},[t._v("删除")])])])])})),0)]),s("div",{staticClass:"nav-cart-total"},[s("p",[t._v(" 共 "),s("strong",[t._v(t._s(t.totalNum))]),t._v(" 件商品 ")]),s("h5",[t._v(" 合计： "),s("span",{staticClass:"price-icon"},[t._v("¥")]),s("span",{staticClass:"price-num"},[t._v(t._s(t.totalPrice))])]),s("h6",[s("el-button",{attrs:{type:"danger"}},[t._v("去购物车")])],1)])]),t.totalNum?t._e():s("div",{staticClass:"cart-con",staticStyle:{height:"313px","text-align":"center"}},[s("p",[t._v("您的购物车竟然是空的!")])])])])],1)])])])]),t._t("nav",[s("div",{staticClass:"nav-sub"},[s("div",{staticClass:"nav-sub-bg"}),s("div",{staticClass:"nav-sub-wrapper"},[s("div",{staticClass:"w"},[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),s("el-breadcrumb-item",{attrs:{to:{path:"/goods"}}},[t._v("全部")]),s("el-breadcrumb-item",{attrs:{to:{path:"/goods?cid=1184"}}},[t._v("品牌周边")]),s("el-breadcrumb-item",{attrs:{to:{path:"/thanks"}}},[t._v("捐赠名单")])],1)],1)])])])],2)])},r=[],i=(s("13d5"),s("96cf"),s("1da1")),n=s("5530"),c=s("2f62"),o=s("5d2d"),u={data:function(){return{productInfo:""}},computed:Object(n["a"])(Object(n["a"])({},Object(c["c"])(["login","userInfo","cartList","showCart"])),{},{totalNum:function(){return this.cartList&&this.cartList.reduce((function(t,a){return t+=a.productNum,t}),0)},totalPrice:function(){return this.cartList&&this.cartList.reduce((function(t,a){return t+=a.productNum*a.salePrice,t}),0)}}),mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.login){a.next=7;break}return a.next=3,t.$http.post("/api/cartList",{userId:Object(o["a"])("id")});case 3:s=a.sent,!0===s.data.success&&(Object(o["c"])("buyCart",s.data.cartList.cartList),t.INITBUYCART()),a.next=8;break;case 7:t.INITBUYCART();case 8:case"end":return a.stop()}}),a)})))()},methods:Object(n["a"])(Object(n["a"])({},Object(c["b"])(["SHOWCART","INITBUYCART"])),{},{cartShowState:function(t){this.SHOWCART({showCart:t})},logout:function(){Object(o["b"])("token"),Object(o["b"])("buyCart"),window.location.href="/"}}),created:function(){}},l=u,d=(s("1f10"),s("2877")),v=Object(d["a"])(l,e,r,!1,null,"4c78afb6",null);a["a"]=v.exports},d504:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("MHeader"),s("router-view")],1)},r=[],i=s("6e6e"),n={components:{MHeader:i["a"]}},c=n,o=s("2877"),u=Object(o["a"])(c,e,r,!1,null,"47bb1681",null);a["default"]=u.exports},d58f:function(t,a,s){var e=s("1c0b"),r=s("7b0b"),i=s("44ad"),n=s("50c4"),c=function(t){return function(a,s,c,o){e(s);var u=r(a),l=i(u),d=n(u.length),v=t?d-1:0,p=t?-1:1;if(c<2)while(1){if(v in l){o=l[v],v+=p;break}if(v+=p,t?v<0:d<=v)throw TypeError("Reduce of empty array with no initial value")}for(;t?v>=0:d>v;v+=p)v in l&&(o=s(o,l[v],v,u));return o}};t.exports={left:c(!1),right:c(!0)}},ef45:function(t,a,s){}}]);
//# sourceMappingURL=chunk-d85c799e.d8aa2e5b.js.map